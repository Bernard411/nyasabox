{% extends 'base.html' %}
{% load static %}

{% block title %}Profile - SoundWave Pro{% endblock %}

{% block content %}
<div class="content">
    <div class="section">
        <div class="section-header">
            <h2 class="section-title">Artist Profile</h2>
        </div>
        
        <div class="profile-container" style="max-width: 600px; margin: 0 auto;">
            <div class="profile-header" style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 2rem;">
                <div class="profile-avatar" style="width: 80px; height: 80px; border-radius: 50%; background: var(--accent-gradient); display: flex; align-items: center; justify-content: center; font-size: 2rem; color: white; box-shadow: var(--shadow-heavy);">
                    {{ user.username|slice:":1"|upper }}
                </div>
                <div class="profile-info">
                    <h2 style="font-size: 1.5rem; margin-bottom: 0.5rem;">{{ user.username }}</h2>
                    <p style="color: var(--text-secondary);">Joined: {{ user.date_joined|date:"F Y" }}</p>
                </div>
            </div>
            
            <form method="POST" class="profile-form">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="id_bio">Bio</label>
                    {{ form.bio }}
                    {% if form.bio.errors %}
                        <div class="error">{{ form.bio.errors }}</div>
                    {% endif %}
                </div>
                
                <button type="submit" class="upload-btn" style="width: 100%;">
                    <span class="material-icons">save</span>
                    Update Profile
                </button>
            </form>
            
            <div class="stats-section" style="margin-top: 2.5rem;">
                <h3 style="margin-bottom: 1rem;">Your Statistics</h3>
                <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                    <div class="stat-card" style="background: var(--bg-card); padding: 1rem; border-radius: 1rem; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--accent-primary);">{{ artist.songs.count }}</div>
                        <div style="color: var(--text-secondary);">Songs Uploaded</div>
                    </div>
                    <div class="stat-card" style="background: var(--bg-card); padding: 1rem; border-radius: 1rem; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: var(--accent-primary);">{{ total_downloads }}</div>
                        <div style="color: var(--text-secondary);">Total Downloads</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .profile-form textarea {
        min-height: 120px;
        resize: vertical;
    }
</style>
{% endblock %}